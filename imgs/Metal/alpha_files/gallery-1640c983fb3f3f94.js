(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{4080:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return n(44336)}])},44292:function(e,t,n){"use strict";var r=n(85893),l=n(28276),o=n(67294),a=n(11163),s=n(41664),i=n.n(s),c=n(40827),u=n(48966),d=n(25043),p=n(72806),m=n(21059),h=n(5434),y=n(2329),f=n(73242),g=n.n(f);let b=e=>{let{data:t,assetPage:n}=e,{t:s}=(0,l.$G)("gallery"),[f,b]=(0,o.useState)({}),[v,w]=(0,o.useState)(null),x=(0,o.useRef)(null),{width:j}=(0,p.Z)(x),_=(0,m.Z)(),C=(0,a.useRouter)();(0,o.useEffect)(()=>{if(_&&_.render&&0===Object.keys(f).length){for(let e of t)if(e.id===_.render){w(e);break}}},[_]);let O=async e=>{let t=JSON.parse(e.currentTarget.dataset.info);w(t),Object.keys(f).includes(t.id)||await fetch("/api/galleryClick",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id})}).then(e=>e.json()).then(e=>{console.log("Tracked click:",e)}),f[t.id]=!0,b(f),C.push({pathname:C.pathname,query:{...C.query,render:t.id}},void 0,{shallow:!0})};return(0,r.jsxs)("div",{className:g().wrapper,ref:x,children:[(0,r.jsxs)(c.Z,{breakpointCols:j<=590?1:Math.ceil(j/468),className:g().masonry,columnClassName:g().masonryColumn,children:[t.map((e,t)=>(0,r.jsx)("div",{className:g().thumbnail,"data-info":JSON.stringify(e),onClick:O,children:(0,r.jsx)(d.Z,{offset:500,children:(0,r.jsx)("img",{src:"https://cdn.polyhaven.com/gallery/".concat(e.file_name,"?width=").concat(460),alt:e.name})})},t)),!n&&(0,r.jsx)(i(),{href:"/gallery-submit",prefetch:!1,children:(0,r.jsxs)("div",{className:g().add,children:[(0,r.jsx)("strong",{children:"+"}),(0,r.jsx)("p",{children:s("submit.title")})]})})]}),v&&(0,r.jsxs)("div",{className:g().lightboxWrapper,onClick:e=>{"a"!==e.target.tagName.toLowerCase()&&(w(null),C.push({pathname:C.pathname,query:n?{id:C.query.id}:{}},void 0,{shallow:!0}))},children:[(0,r.jsxs)("div",{className:g().lightbox,children:[(0,r.jsxs)("div",{className:g().imageWrapper,children:[(0,r.jsx)(y.Z,{className:g().spinner}),(0,r.jsx)("img",{src:"https://cdn.polyhaven.com/gallery/".concat(v.file_name,"?width=").concat(j)})]}),(0,r.jsxs)("p",{children:[v.artwork_name&&(0,r.jsx)("em",{children:v.artwork_name}),s("by"),v.author_link&&(0,u.isURL)(v.author_link,{require_protocol:!0})?(0,r.jsx)("a",{target:"_blank",rel:"noopener",href:v.author_link,children:v.author}):(0,r.jsx)("span",{children:v.author}),s("using"),v.assets_used.slice(0,3).map((e,t)=>(0,r.jsx)(i(),{href:"/a/".concat(e),children:e},t)),v.assets_used.length>3?(0,r.jsx)("span",{title:v.assets_used.join(", "),children:"..."}):null]})]}),(0,r.jsx)(h.FU5,{})]})]})};b.defaultProps={assetPage:!1},t.Z=b},48155:function(e,t,n){"use strict";var r=n(85893),l=n(9008),o=n.n(l);let a=e=>{let{title:t,description:n,keywords:l,url:a,author:s,assetType:i,image:c,children:u}=e,d="Arch-viz,Game,Unreal,Unity,Blender,Maya,Max,free,cc0,creative commons";0===i&&(d="hdri,hdri haven,ibl,hdr,environment,exr,"+d),1===i&&(d="texture,pbr,scan,png,exr,material,tileable,seamless"+d),2===i&&(d="3D Model,Textured,pbr,gltf,fbx,usd,"+d);let p="https://polyhaven.com"+a;return window.allyourbasearebelongtous=function(){"yes"===localStorage.getItem("hideAds")?(localStorage.removeItem("hideAds"),window.location.reload()):(localStorage.setItem("hideAds","yes"),window.location.reload())},window.poweroverwhelming=function(){"yes"===localStorage.getItem("dummyAds")?(localStorage.removeItem("dummyAds"),window.location.reload()):(localStorage.setItem("dummyAds","yes"),window.location.reload())},(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Poly Haven"===t?t:"".concat(t," • Poly Haven")}),(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("meta",{name:"keywords",content:"".concat(l).concat(l?",":"").concat(d)}),(0,r.jsx)("meta",{name:"author",content:s}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"theme-color",content:"rgb(234, 91, 12)"}),(0,r.jsx)("link",{rel:"canonical",href:p}),(0,r.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:"".concat(t," • Poly Haven")}),(0,r.jsx)("meta",{property:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{property:"og:site_name",content:"Poly Haven"}),c?(0,r.jsx)("meta",{property:"og:image",content:c}):null,(0,r.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{property:"twitter:site",content:"@polyhaven"}),c?(0,r.jsx)("meta",{property:"twitter:image",content:c}):null,u]})};a.defaultProps={description:"The Public 3D Asset Library",keywords:"",author:"Poly Haven",assetType:null,image:null,children:null},t.Z=a},28368:function(e,t,n){"use strict";var r=n(85893),l=n(18087),o=n(94278),a=n.n(o);let s=e=>{let{children:t,immersiveScroll:n,library:o,assetPage:s}=e;return(0,r.jsxs)("div",{id:"page",className:"".concat(a().page," ").concat(n?a().immersiveScroll:""," ").concat(o?a().library:""," ").concat(s?a().assetPage:""),children:[(0,r.jsx)("div",{className:a().pageContent,children:t}),(0,r.jsx)(l.Z,{})]})};s.defaultProps={immersiveScroll:!1,library:!1,assetPage:!1},t.Z=s},14443:function(e,t,n){"use strict";var r=n(85893),l=n(90661),o=n.n(l);let a=e=>{let{icon:t,label:n,onClick:l,active:a,children:s}=e;return(0,r.jsxs)("div",{className:o().wrapper,children:[(0,r.jsxs)("div",{className:"".concat(o().button," ").concat(a?o().active:""),onClick:l,children:[(0,r.jsx)("div",{className:o().icon,children:t}),n&&(0,r.jsx)("div",{className:o().label,children:n})]}),s?(0,r.jsx)("div",{className:o().menu,children:s}):null]})};a.defaultProps={label:null,active:!1,onClick:null,children:null},t.Z=a},72806:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(67294);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,l]=(0,r.useState)(0),[o,a]=(0,r.useState)(0);return(0,r.useEffect)(()=>{function t(){e&&e.current&&(e.current.offsetWidth!==n&&l(e.current.offsetWidth),e.current.offsetHeight!==o&&a(e.current.offsetHeight))}return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},t),{width:n,height:o}}},21059:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(11163);function l(){let e=(0,r.useRouter)(),t=/\[.+\]/.test(e.route)||/\?./.test(e.asPath),n=!t||Object.keys(e.query).length>0;return n?e.query:null}},44336:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return p},default:function(){return m}});var r=n(85893),l=n(28276),o=n(48155),a=n(41664),s=n.n(a),i=n(14443),c=n(28368),u=n(44292),d=n(5434),p=!0;function m(e){let{t}=(0,l.$G)(["common","gallery"]);return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(o.Z,{title:t("gallery:title"),description:t("gallery:description"),url:"/gallery"}),(0,r.jsx)("h1",{style:{textAlign:"center",marginTop:"1.5em",marginBottom:0},children:t("gallery:title")}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"1em"},children:[(0,r.jsx)("p",{children:(0,r.jsx)("em",{children:t("gallery:description")})}),(0,r.jsx)(s(),{href:"/gallery-submit",prefetch:!1,children:(0,r.jsx)(i.Z,{icon:(0,r.jsx)(d.x06,{}),label:t("gallery:add")})})]}),(0,r.jsx)(u.Z,{data:e.data})]})}},73242:function(e){e.exports={wrapper:"Gallery_wrapper__jiLQS",render:"Gallery_render__hnL_k",masonry:"Gallery_masonry__SQVY_",masonryColumn:"Gallery_masonryColumn__v6nAS",thumbnail:"Gallery_thumbnail__yka2K",add:"Gallery_add__sm_sx",lightboxWrapper:"Gallery_lightboxWrapper__sooFT",lightbox:"Gallery_lightbox__s6MuL",imageWrapper:"Gallery_imageWrapper__Hbk9C",spinner:"Gallery_spinner__qXI6p"}},90661:function(e){e.exports={wrapper:"IconButton_wrapper__oOa2E",menu:"IconButton_menu__tNIWL",button:"IconButton_button__RSJAG",label:"IconButton_label__Mkq8x",active:"IconButton_active__Z5xiw",icon:"IconButton_icon__s11cP"}},40827:function(e,t,n){"use strict";var r=n(67294);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class s extends r.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let n=1/0,r=t.default||2;for(let l in t){let o=parseInt(l),a=o>0&&e<=o;a&&o<n&&(n=o,r=t[l])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){let e=this.state.columnCount,t=Array(e),n=r.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){let l=r%e;t[l]||(t[l]=[]),t[l].push(n[r])}return t}renderColumns(){let{column:e,columnAttrs:t={},columnClassName:n}=this.props,o=this.itemsInColumns(),s=`${100/o.length}%`,i=n;i&&"string"!=typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===i&&(i="my-masonry-grid_column"));let c=a(a(a({},e),t),{},{style:a(a({},t.style),{},{width:s}),className:i});return o.map((e,t)=>r.createElement("div",l({},c,{key:t}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:t,breakpointCols:n,columnClassName:o,columnAttrs:a,column:s,className:i}=e,c=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),u=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(u="my-masonry-grid")),r.createElement("div",l({},c,{className:u}),this.renderColumns())}}s.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},t.Z=s},25043:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(67294),l=Object.defineProperty,o=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t,n)=>(o(e,"symbol"!=typeof t?t+"":t,n),n);let s=(e,t)=>"u">typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),i=e=>s(e,"overflow")+s(e,"overflow-y")+s(e,"overflow-x"),c=e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window};class u extends r.Component{constructor(e){super(e),a(this,"elementObserver"),a(this,"wrapper"),a(this,"lazyLoadHandler",e=>{var t,n;let{onContentVisible:r}=this.props,[l]=e,{isIntersecting:o}=l;if(o){this.setState({visible:!0},()=>{r&&r()});let e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(n=this.elementObserver)||n.unobserve(e))}}),this.elementObserver=null,this.wrapper=r.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();let{offset:t,threshold:n}=this.props,r={rootMargin:"number"==typeof t?`${t}px`:t||"0px",threshold:n||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,r);let l=null==(e=this.wrapper)?void 0:e.current;l instanceof HTMLElement&&this.elementObserver.observe(l)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;let n=null==(e=this.wrapper)?void 0:e.current;n&&n instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(n))}getEventNode(){var e;return c(null==(e=this.wrapper)?void 0:e.current)}render(){let{children:e,className:t,height:n,width:l,elementType:o}=this.props,{visible:a}=this.state,s=`LazyLoad${a?" is-visible":""}${t?` ${t}`:""}`;return(0,r.createElement)(o||"div",{className:s,style:{height:n,width:l},ref:this.wrapper},a&&r.Children.only(e))}}a(u,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}},function(e){e.O(0,[3415,9734,8966,9005,9774,2888,179],function(){return e(e.s=4080)}),_N_E=e.O()}]);